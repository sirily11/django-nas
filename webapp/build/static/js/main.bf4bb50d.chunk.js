(this["webpackJsonpelectron-react-template"]=this["webpackJsonpelectron-react-template"]||[]).push([[0],{536:function(e,t,a){e.exports=a(859)},541:function(e,t,a){},859:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(27),l=a.n(c),o=a(20),s=(a(541),a(161)),i=a(106),u=(a(312),a(11)),m=a.n(u),d=a(21),p=a(946),h=a(945),f=a(288),v=a(108),E=a(910),b=a(862),x=a(916),g=a(915),w=a(287),k=a.n(w),O=a(914),y=a(917),j=a(488),C=a(911),F=a(294),S=a(34),I=a.n(S);const M="/api/folder/";class D{constructor(){var e=this;this.menus=void 0,this.currentFolder=void 0,this.searchedFiles=void 0,this.errorMsg=void 0,this.moveFileTo=function(){var t=Object(d.a)(m.a.mark((function t(a,n){var r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e.currentFolder){t.next=8;break}return r="".concat("/api/file/").concat(a,"/"),t.next=5,I.a.patch(r,{parent:n});case 5:return t.sent,t.next=8,e.getContent(e.currentFolder.id);case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),e.errorMsg=t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,a){return t.apply(this,arguments)}}(),this.moveFolderTo=function(){var t=Object(d.a)(m.a.mark((function t(a,n){var r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e.currentFolder){t.next=8;break}return r="".concat(M).concat(a,"/"),t.next=5,I.a.patch(r,{parent:n});case 5:return t.sent,t.next=8,e.getContent(e.currentFolder.id);case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),e.errorMsg=t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,a){return t.apply(this,arguments)}}(),this.rename=function(){var t=Object(d.a)(m.a.mark((function t(a,n){var r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e.currentFolder){t.next=8;break}return r="".concat("/api/file/").concat(a,"/"),t.next=5,I.a.patch(r,{filename:n});case 5:return t.sent,t.next=8,e.getContent(e.currentFolder.id);case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),e.errorMsg=t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,a){return t.apply(this,arguments)}}(),this.search=function(){var t=Object(d.a)(m.a.mark((function t(a){var n,r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n="".concat("/api/file?search=").concat(a),t.next=4,I.a.get(n);case 4:r=t.sent,e.searchedFiles=r.data,t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),e.errorMsg=t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),this.getContent=function(){var t=Object(d.a)(m.a.mark((function t(a){var n,r,c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=a?"".concat(M).concat(a,"/"):M,t.next=4,I.a.get(n);case 4:r=t.sent,c=r.data,e.menus=c.parents,e.currentFolder=c,e.errorMsg=void 0,t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),e.errorMsg=t.t0,e.currentFolder=void 0;case 15:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}(),this.uploadFile=function(){var t=Object(d.a)(m.a.mark((function t(a,n){var r,c,l,o,s,i,u,d,p;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,r=0,c=!0,l=!1,o=void 0,t.prev=5,s=a[Symbol.iterator]();case 7:if(c=(i=s.next()).done){t.next=23;break}if(u=i.value,!e.currentFolder){t.next=19;break}return n(r,0,0,u.size),(d=new FormData).append("file",u),e.currentFolder.id&&d.append("parent",e.currentFolder.id.toString()),t.next=16,I.a.post("/api/file/",d,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:e=>{let t=Math.round(100*e.loaded/e.total);n(r,t,u.size*e.loaded,e.total)}});case 16:p=t.sent,e.currentFolder.files.push(p.data),e.currentFolder.total_size+=p.data.size;case 19:r+=1;case 20:c=!0,t.next=7;break;case 23:t.next=29;break;case 25:t.prev=25,t.t0=t.catch(5),l=!0,o=t.t0;case 29:t.prev=29,t.prev=30,c||null==s.return||s.return();case 32:if(t.prev=32,!l){t.next=35;break}throw o;case 35:return t.finish(32);case 36:return t.finish(29);case 37:n(r,100,0,0),t.next=43;break;case 40:t.prev=40,t.t1=t.catch(0),alert("Upload Failed: "+t.t1.toString());case 43:case"end":return t.stop()}}),t,null,[[0,40],[5,25,29,37],[30,,32,36]])})));return function(e,a){return t.apply(this,arguments)}}(),this.deleteFile=function(){var t=Object(d.a)(m.a.mark((function t(a){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!window.confirm("Are you sure you want to delete this file?")||!e.currentFolder){t.next=8;break}return t.next=5,I.a.delete("".concat("/api/file/").concat(a,"/"));case 5:return t.sent,t.next=8,e.getContent(e.currentFolder.id);case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),alert("Upload Failed: "+t.t0.toString());case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}(),this.deleteFolder=function(){var t=Object(d.a)(m.a.mark((function t(a){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!window.confirm("Are you sure you want to delete this folder?")||!e.currentFolder){t.next=8;break}return t.next=5,I.a.delete("".concat(M).concat(a,"/"));case 5:return t.sent,t.next=8,e.getContent(e.currentFolder.id);case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),alert("Upload Failed: "+t.t0.toString());case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}(),this.createNewFolder=function(){var t=Object(d.a)(m.a.mark((function t(a){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.currentFolder){t.next=7;break}return t.next=3,I.a.post(M,Object(F.a)({},a,{parent:e.currentFolder.id?e.currentFolder.id:null}));case 3:n=t.sent,e.currentFolder.folders.push(n.data),t.next=8;break;case 7:alert("Create new folder error: empty parent folder");case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.renameFolder=function(){var t=Object(d.a)(m.a.mark((function t(a,n){var r,c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.currentFolder){t.next=8;break}return t.next=3,I.a.patch("".concat(M).concat(a,"/"),{name:n});case 3:r=t.sent,(c=e.currentFolder.folders.findIndex(e=>e.id===a))>-1&&(e.currentFolder.folders[c]=r.data),t.next=9;break;case 8:alert("Rename new folder error: empty parent folder");case 9:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),this.getDocument=function(){var e=Object(d.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.get("".concat("/api/document/").concat(t,"/"));case 2:return a=e.sent,e.abrupt("return",Promise.resolve(Object(F.a)({},a.data,{content:JSON.parse(a.data.content)})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.createNewDocument=function(){var t=Object(d.a)(m.a.mark((function t(a,n){var r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.a.post("/api/document/",{name:a,parent:e.currentFolder&&e.currentFolder.id?e.currentFolder.id:null,content:JSON.stringify(n.ops)});case 2:r=t.sent,e.currentFolder&&e.currentFolder.documents.push(r.data);case 4:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),this.updateDocument=function(){var t=Object(d.a)(m.a.mark((function t(a,n,r){var c,l;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.a.patch("".concat("/api/document/").concat(a,"/"),{name:n,content:JSON.stringify(r.ops)});case 2:c=t.sent,e.currentFolder&&(l=e.currentFolder.documents.findIndex(e=>e.id===a))>-1&&(e.currentFolder.documents[l]=c.data);case 4:case"end":return t.stop()}}),t)})));return function(e,a,n){return t.apply(this,arguments)}}(),this.deleteDocument=function(){var t=Object(d.a)(m.a.mark((function t(a){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.currentFolder){t.next=13;break}if(!window.confirm("Do you want to delete this document?")){t.next=11;break}return t.next=5,I.a.delete("".concat("/api/document/").concat(a,"/"));case 5:return n=t.sent,t.next=8,e.getContent(e.currentFolder.id);case 8:return t.abrupt("return",Promise.resolve(n.data));case 11:t.next=15;break;case 13:return alert("Create new folder error: empty parent folder"),t.abrupt("return",Promise.reject());case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.menus=[],this.searchedFiles=[]}}class N extends n.Component{constructor(e){var t;super(e),t=this,this.selectDocument=e=>{this.setState({selectedDocument:e})},this.updateUploadInfo=e=>{this.setState({uploadInfo:e})},this.setUploadInfo=e=>{this.setState({uploadFiles:e})},this.fetch=function(){var e=Object(d.a)(m.a.mark((function e(a){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.setState({isLoading:!0}),n=t.state.nas,e.next=4,n.getContent(a);case 4:t.setState({nas:n,isLoading:!1});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.update=()=>{this.setState({nas:this.state.nas})},this.state={nas:new D,selectDocument:this.selectDocument,updateUploadInfo:this.updateUploadInfo,setUploadInfo:this.setUploadInfo,update:this.update,isLoading:!1}}componentDidUpdate(e){var t=this;return Object(d.a)(m.a.mark((function a(){var n;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t.props.match.params.id===e.match.params.id){a.next=4;break}return n=t.props.match.params.id,a.next=4,t.fetch(n);case 4:case"end":return a.stop()}}),a)})))()}componentWillMount(){var e=this;return Object(d.a)(m.a.mark((function t(){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props.match.params.id,t.next=3,e.fetch(a);case 3:case"end":return t.stop()}}),t)})))()}render(){return r.a.createElement(T.Provider,{value:this.state},this.props.children)}}const L={nas:new D,update:()=>{},selectDocument:()=>{},updateUploadInfo:e=>{},setUploadInfo:e=>{},isLoading:!1},T=r.a.createContext(L);var R=a(204),U=a.n(R),B=(a(321),a(210)),P=a.n(B),z=a(901),A=a(905),_=a(906),W=a(907),Y=a(951),q=a(942),H=a(912),J=a(913);function G(e){const t=Object(n.useContext)(T).nas,a=Object(n.useState)(),c=Object(o.a)(a,2),l=c[0],s=c[1];return r.a.createElement(z.a,{open:e.open,fullWidth:!0},r.a.createElement(A.a,null,"Move File To"),r.a.createElement(_.a,null,r.a.createElement(W.a,{fullWidth:!0},r.a.createElement(Y.a,null,"Destnation"),r.a.createElement(q.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:l,onChange:e=>{s(e.target.value)},fullWidth:!0},t.currentFolder&&r.a.createElement(C.a,{value:t.currentFolder.parent},"Parent Folder"),t.currentFolder&&t.currentFolder.folders.filter(t=>"folder"!==e.type||e.selectedFile.id!==t.id).map(e=>r.a.createElement(C.a,{value:e.id},e.name))))),r.a.createElement(H.a,null,r.a.createElement(J.a,{onClick:()=>{s(void 0),e.onClose()}},"cancel"),r.a.createElement(J.a,{onClick:Object(d.a)(m.a.mark((function a(){return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!l){a.next=9;break}a.t0=e.type,a.next="file"===a.t0?4:"folder"===a.t0?7:9;break;case 4:return a.next=6,t.moveFileTo(e.selectedFile.id,l);case 6:return a.abrupt("break",9);case 7:return a.next=9,t.moveFolderTo(e.selectedFile.id,l);case 9:s(void 0),e.onClose();case 11:case"end":return a.stop()}}),a)})))},"ok")))}var K=a(78),V=a.n(K),X=a(953);function Z(e){const t=Object(n.useContext)(T).nas,a=Object(n.useState)((()=>{switch(e.type){case"file":let t=K.extname(e.selectedFile.filename);return K.basename(e.selectedFile.filename,t);case"folder":default:return e.selectedFile.name}})()),c=Object(o.a)(a,2),l=c[0],s=c[1];return r.a.createElement(z.a,{open:e.open,fullWidth:!0},r.a.createElement(A.a,null,"Rename"),r.a.createElement(_.a,null,r.a.createElement(X.a,{fullWidth:!0,value:l,onChange:e=>{s(e.target.value)}})),r.a.createElement(H.a,null,r.a.createElement(J.a,{onClick:()=>{e.onClose(),s("")}},"cancel"),r.a.createElement(J.a,{onClick:Object(d.a)(m.a.mark((function a(){var n;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!l){a.next=10;break}a.t0=e.type,a.next="file"===a.t0?4:"folder"===a.t0?8:10;break;case 4:return n=K.extname(e.selectedFile.filename),a.next=7,t.rename(e.selectedFile.id,"".concat(l).concat(n));case 7:return a.abrupt("break",10);case 8:return a.next=10,t.renameFolder(e.selectedFile.id,l);case 10:e.onClose();case 11:case"end":return a.stop()}}),a)})))},"ok")))}function $(){const e=Object(n.useContext)(T),t=e.nas,a=(e.isLoading,e.update),c=Object(n.useState)(!1),l=Object(o.a)(c,2),i=l[0],u=l[1],w=Object(n.useState)(void 0),F=Object(o.a)(w,2),S=F[0],I=F[1],M=r.a.useState(null),D=Object(o.a)(M,2),N=D[0],L=D[1],R=e=>{L(e.currentTarget)},B=()=>{L(null)};return r.a.createElement("div",{style:{overflow:"auto",overflowX:"hidden",height:"100%",color:"blue"}},r.a.createElement(E.a,null,r.a.createElement(p.a,{centered:!0},r.a.createElement(p.a.Row,{verticalAlign:"middle"},r.a.createElement(p.a.Column,{width:5},t.currentFolder&&t.currentFolder.parent?r.a.createElement(s.b,{to:"/home/".concat(t.currentFolder.parent)},r.a.createElement(O.a,null,r.a.createElement(k.a,null))):r.a.createElement(O.a,null,r.a.createElement(s.b,{to:"/home"},r.a.createElement(k.a,null))," ")),r.a.createElement(p.a.Column,{width:11},r.a.createElement("div",{style:{color:"black"}},t.currentFolder&&t.currentFolder.name)))),t.errorMsg&&r.a.createElement(h.a,{error:!0},r.a.createElement(f.a,null,"Network Error"),r.a.createElement("div",null,t.errorMsg.toString())),t.currentFolder&&t.currentFolder.folders.map((e,n)=>r.a.createElement(b.a,{button:!0,key:"folder-".concat(e.id)},r.a.createElement(g.a,null,r.a.createElement(v.a,{name:"folder",size:"large",color:"grey"})),r.a.createElement(x.a,{onClick:()=>{window.location.href="#/home/".concat(e.id)},style:{color:"black"},primary:e.name,secondary:U()(e.modified_at).format("MMM DD, YYYY")}),r.a.createElement(y.a,null,r.a.createElement(O.a,{onClick:R},r.a.createElement(P.a,null))),r.a.createElement(j.a,{id:"simple-menu",anchorEl:N,keepMounted:!0,open:Boolean(N),onClose:B},r.a.createElement(C.a,{onClick:()=>{I(e),B()}},"Rename"),r.a.createElement(C.a,{onClick:Object(d.a)(m.a.mark((function n(){return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.deleteFolder(e.id);case 2:B(),a();case 4:case"end":return n.stop()}}),n)})))},"Delete"),r.a.createElement(C.a,{onClick:()=>{B(),u(!0),I(e)}},"Move To"))))),S&&!i&&r.a.createElement(Z,{type:"folder",selectedFile:S,open:void 0!==S,onClose:()=>I(void 0)}),S&&r.a.createElement(G,{type:"folder",selectedFile:S,open:i,onClose:()=>{u(!1),I(void 0)}}))}var Q=a(947),ee=a(291),te=a(940),ae=a(918),ne=a(864);function re(e){const t=Object(n.useContext)(T),a=t.nas,c=t.update,l=t.uploadInfo,o=t.setUploadInfo,s=t.uploadFiles,i=t.updateUploadInfo;return r.a.createElement(te.a,{open:e.open},r.a.createElement(te.a.Header,null,"Select Files"),r.a.createElement(te.a.Content,null,r.a.createElement(p.a.Row,null,r.a.createElement("input",{type:"file",multiple:!0,name:"Upload file",onChange:e=>{let t=e.target.files;if(t){let e=[];for(var a=0;a<t.length;a++)e.push(t[a]);o(e)}}})),l&&r.a.createElement(p.a.Row,{style:{marginTop:20}},r.a.createElement(Q.a,null,r.a.createElement(ae.a,{percent:l.progress,attached:"top",color:"green",active:!0}),l.currentName," ",l.currentIndex,"/",l.total," --- ",l.progress," %",r.a.createElement(ae.a,{percent:l.currentIndex/l.total*100,attached:"bottom",color:"blue",active:!0})))),r.a.createElement(te.a.Actions,null,r.a.createElement(ne.a,{basic:!0,color:"red",onClick:()=>e.setOpen(!1)},r.a.createElement(v.a,{name:"remove"})," ",l?"Minimize":"Close"),r.a.createElement(ne.a,{disabled:void 0===s,color:"green",loading:void 0!==l,inverted:!0,onClick:Object(d.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!s){t.next=5;break}return t.next=3,a.uploadFile(s,(e,t,a,n)=>{i({total:s.length,currentIndex:e,currentName:s[e]?s[e].name:"Finished",progress:t,uploadedDataSize:a,totalDataSize:n})});case 3:c(),setTimeout(()=>{e.setOpen(!1),o(void 0),i(void 0)},300);case 5:case"end":return t.stop()}}),t)})))},r.a.createElement(v.a,{name:"checkmark"})," Upload")))}let ce,le,oe;!function(e){e.text="text",e.number="number",e.datetime="datetime",e.foreignkey="foreignkey",e.unknown="unknown",e.select="select",e.tomanyTable="tomany-table"}(ce||(ce={}));class se{constructor(e){this.schemaList=void 0,e.forEach(e=>{e.extra&&e.extra.default&&(e.value=e.extra.default)}),this.schemaList=e}merge(e){this.schemaList=this.schemaList.map(t=>{if(e[t.name]){let a=e[t.name];if(t.widget==ce.select){let e=t.extra&&t.extra.choices&&t.extra.choices.find(e=>e.value===a);t.choice=e}else if(t.widget==ce.foreignkey){let e=a;t.choice=e,t.value=a.value}else t.value=a}return t})}onSubmit(){console.log(this.schemaList);let e={};return this.schemaList.filter(e=>!e.readonly&&e.widget!==ce.tomanyTable).forEach(t=>e[t.name]=t.value),console.log(e),e}}class ie{constructor(e){this.schemaName=void 0,this.schemaName=e}merge(e,t){return[]}}!function(e){e[e.image=0]="image",e[e.qrScan=1]="qrScan"}(le||(le={})),function(e){e[e.getInput=0]="getInput",e[e.getImage=1]="getImage"}(oe||(oe={}));class ue extends ie{constructor(e,t,a){super(a),this.actionTypes=void 0,this.actionDone=void 0,this.schemaName=void 0,this.schemaName=a,this.actionTypes=e,this.actionDone=t}static merge(e,t){return e.map(e=>(t.forEach(t=>{t.schemaName==e.name&&(e.action=t)}),e))}}class me extends ie{constructor(e,t){super(t),this.iconData=void 0,this.schemaName=void 0,this.iconData=e,this.schemaName=t}static merge(e,t){return e.map(e=>(t.forEach(t=>{t.schemaName==e.name&&(e.icon=t)}),e))}}var de=a(921),pe=a(163),he=a(941),fe=a(919);function ve(e){const t=e.schema,a=e.onSaved;return r.a.createElement("div",null,r.a.createElement(he.a.Input,{"data-testid":"input-field",control:fe.a,label:t.label,error:function(){if(t.required&&void 0===t.value)return{content:"This field is required",pointing:"below"}}(),onChange:(e,{value:t})=>{a(t)},defaultValue:t.value}),t.extra&&t.extra.help&&r.a.createElement(pe.a,{color:"blue"},t.extra.help))}var Ee=a(920);function be(e){const t=e.schema,a=e.onSaved;return r.a.createElement(he.a.Select,{"data-testid":"select-field",control:Ee.a,label:t.label,options:t.extra&&t.extra.choices?t.extra.choices.map(e=>({text:e.label,value:e.value,key:e.label})):[],value:t.value,onChange:(e,{value:t})=>a(t),placeholder:t.value?t.value:t.extra&&t.extra.default})}var xe=a(167);function ge(e){const t=e.schema,a=e.onSaved,c=e.url,l=Object(n.useState)(),s=Object(o.a)(l,2),i=s[0],u=s[1],h=Object(n.useState)(),f=Object(o.a)(h,2),v=f[0],E=f[1],b=Object(n.useState)(t.choice&&t.choice.value),x=Object(o.a)(b,2),g=x[0],w=x[1],k=Object(n.useState)(!1),O=Object(o.a)(k,2),y=O[0],j=O[1],C=Object(n.useState)(-1),F=Object(o.a)(C,2),S=F[0],M=F[1];function D(e){return"".concat(c,"/").concat(e)}const N=function(){var e=Object(d.a)(m.a.mark((function e(){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.extra){e.next=6;break}return a=D(t.extra.related_model&&t.extra.related_model.replace("-","_")+"/"),e.next=4,I.a.get(a);case 4:return n=e.sent,e.abrupt("return",n.data);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(d.a)(m.a.mark((function e(){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.extra){e.next=6;break}return a=D(t.extra.related_model&&t.extra.related_model.replace("-","_")+"/"),e.next=4,I.a.request({method:"OPTIONS",url:a});case 4:n=e.sent,E(n.data.fields);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(d.a)(m.a.mark((function e(a){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j(!0),!t.extra){e.next=6;break}return n=D(t.extra.related_model&&t.extra.related_model.replace("-","_")+"/"+g+"/"),e.next=5,I.a.patch(n,a);case 5:e.sent;case 6:j(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(d.a)(m.a.mark((function e(a){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j(!0),!t.extra){e.next=6;break}return n=D(t.extra.related_model&&t.extra.related_model.replace("-","_")+"/"),e.next=5,I.a.post(n,a);case 5:e.sent;case 6:j(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(p.a,null,r.a.createElement(p.a.Row,{columns:"equal"},r.a.createElement(p.a.Column,{width:10},r.a.createElement(xe.a,{value:t.choice&&t.choice.value,labeled:!0,placeholder:"Select ".concat(t.label),fluid:!0,search:!0,selection:!0,onChange:(t,{value:n})=>{if(w(n),a(n),i){let t=i.find(e=>e.id===n);e.select({label:t.name,value:t.id})}},options:void 0!==i?i.map(e=>({key:e.id,text:e.name,value:e.id})):t.choice?[{text:t.choice.label,key:t.choice.value,value:t.choice.value}]:[],onClick:Object(d.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N();case 2:(t=e.sent)&&u(t);case 4:case"end":return e.stop()}}),e)})))})),r.a.createElement(p.a.Column,null,r.a.createElement(ne.a,{icon:"add",color:"blue",onClick:Object(d.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M(0),e.next=3,L();case 3:case"end":return e.stop()}}),e)})))}),r.a.createElement(ne.a,{icon:"edit",color:"blue",disabled:void 0===t.value,onClick:Object(d.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M(1),e.next=3,N();case 3:return t=e.sent,u(t),e.next=7,L();case 7:case"end":return e.stop()}}),e)})))}),r.a.createElement(z.a,{open:0===S,onClose:()=>M(-1),fullWidth:!0},r.a.createElement(A.a,null,"Add ",t.label),r.a.createElement(_.a,null,v&&r.a.createElement(we,{schemas:v,url:c,onSubmit:R}))),r.a.createElement(z.a,{open:1===S,onClose:()=>M(-1),fullWidth:!0},r.a.createElement(A.a,null,"Edit ",t.label),r.a.createElement(_.a,null,v&&r.a.createElement(we,{schemas:v,values:i&&i.find(e=>e.id===g),url:c,onSubmit:T,loading:y})))),t.required&&!t.value&&r.a.createElement(p.a.Column,null,r.a.createElement(pe.a,{tag:!0,color:"red"},"Required"))))}class we extends n.Component{constructor(e){super(e),this.onSaved=(e,t)=>{let a=e;t.widget===ce.number&&(a=parseInt(e)),t.value=a,this.setState({schemaList:this.state.schemaList})},this.state={schemaList:void 0,submitSuccess:void 0}}componentDidMount(){const e=this.props,t=e.schemas,a=e.values,n=e.icons,r=e.actions;let c=new se(t);if(a&&c.merge(a),n){let e=me.merge(c.schemaList,n);c.schemaList=e}if(r){let e=ue.merge(c.schemaList,r);c.schemaList=e}this.setState({schemaList:c})}renderField(e){switch(e.widget){case ce.select:return r.a.createElement(be,{schema:e,onSaved:t=>this.onSaved(t,e)});case ce.foreignkey:return r.a.createElement(ge,{select:t=>{e.choice=t,this.setState({schemaList:this.state.schemaList})},schema:e,onSaved:t=>this.onSaved(t,e),url:this.props.url});case ce.text:case ce.number:return r.a.createElement(ve,{schema:e,onSaved:t=>this.onSaved(t,e)});default:return r.a.createElement("div",{key:e.name})}}render(){var e=this;const t=this.state,a=t.schemaList,n=t.submitSuccess,c=this.props.loading;return r.a.createElement(de.a,null,void 0!==n&&r.a.createElement(pe.a,{basic:!0,color:n?"green":"red"},"Submitted ",n?"success":"failed"),r.a.createElement(he.a,{loading:c},a&&a.schemaList.filter(e=>!e.readonly).map(e=>r.a.createElement(he.a.Field,{key:e.name},this.renderField(e))),r.a.createElement(ne.a,{loading:!0===c,onClick:Object(d.a)(m.a.mark((function t(){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a||!e.props.onSubmit){t.next=12;break}return t.prev=1,n=a.onSubmit(),t.next=5,e.props.onSubmit(n);case 5:e.setState({submitSuccess:!0}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),alert(t.t0),e.setState({submitSuccess:!1});case 12:case"end":return t.stop()}}),t,null,[[1,8]])})))},"Submit")))}}const ke=[{name:"name",label:"Folder Name",readonly:!1,required:!0,widget:ce.text}];function Oe(e){const t=Object(n.useContext)(T),a=t.nas,c=t.update;return r.a.createElement(te.a,{open:e.open},r.a.createElement(te.a.Header,null,"New Folder"),r.a.createElement(te.a.Content,null,r.a.createElement(we,{schemas:ke,url:"",onSubmit:function(){var t=Object(d.a)(m.a.mark((function t(n){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.createNewFolder(n);case 3:c(),setTimeout(()=>{e.setOpen(!1)},300),t.next=10;break;case 7:throw t.prev=7,t.t0=t.catch(0),t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()})),r.a.createElement(te.a.Actions,null,r.a.createElement(ne.a,{basic:!0,color:"red",onClick:()=>e.setOpen(!1)},r.a.createElement(v.a,{name:"remove"})," No")))}a(707);var ye=a(471),je=a.n(ye);function Ce(e){const t=Object(n.useState)(),a=Object(o.a)(t,2),c=a[0],l=a[1],s=Object(n.useState)(),i=Object(o.a)(s,2),u=i[0],p=i[1],h=Object(n.useState)(!1),f=Object(o.a)(h,2),v=f[0],E=(f[1],Object(n.useState)(!1)),b=Object(o.a)(E,2),x=b[0],g=b[1],w=e.document,k=Object(n.useContext)(T),O=k.nas,y=k.update;return void 0===u&&p(w?w.name:""),r.a.createElement(te.a,{open:e.open,centered:!1},r.a.createElement(te.a.Header,null,r.a.createElement(X.a,{value:u,label:"You Document Title",onChange:e=>{p(e.target.value)},fullWidth:!0})),r.a.createElement(te.a.Content,null,r.a.createElement(je.a,{ref:e=>l(null!=e?e:void 0),defaultValue:w&&w.content})),r.a.createElement(te.a.Actions,null,r.a.createElement(ne.a,{onClick:()=>{if(v){window.confirm("Are you sure you want to exit? You will lose unsave data.")&&e.setOpen(!1)}else e.setOpen(!1)}},"close"),r.a.createElement(ne.a,{loading:x,color:"blue",onClick:Object(d.a)(m.a.mark((function t(){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,g(!0),!c||!u){t.next=19;break}if(a=c.getEditor().getContents(),!w){t.next=9;break}return t.next=7,O.updateDocument(w.id,u,a);case 7:t.next=15;break;case 9:if(""===u){t.next=14;break}return t.next=12,O.createNewDocument(u,a);case 12:t.next=15;break;case 14:throw"Name should not be empty";case 15:y(),p(void 0),e.setOpen(!1),g(!1);case 19:t.next=25;break;case 21:t.prev=21,t.t0=t.catch(0),alert(t.t0.toString()),g(!1);case 25:case"end":return t.stop()}}),t,null,[[0,21]])})))},"Save")))}var Fe=a(124),Se=a(948);function Ie(){Object(n.useContext)(T).nas;const e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(!1),s=Object(o.a)(l,2),i=s[0],u=s[1],m=Object(n.useState)(!1),d=Object(o.a)(m,2),p=d[0],h=d[1];return r.a.createElement("div",null,r.a.createElement(Fe.a,{id:"folder"},r.a.createElement(Se.a,{id:"folder",vertical:!0},r.a.createElement(Fe.c,{onClick:()=>{u(!0)}},r.a.createElement(ee.a,null,"New Folder")))),r.a.createElement(Fe.a,{id:"files"},r.a.createElement(Se.a,{vertical:!0},r.a.createElement(ee.a,{onClick:()=>h(!0)},"New Document"),r.a.createElement(ee.a,{onClick:()=>{c(!0)}},"Upload Files"))),r.a.createElement(re,{open:a,setOpen:c}),r.a.createElement(Oe,{open:i,setOpen:u}),r.a.createElement(Ce,{open:p,setOpen:h}))}class Me extends n.Component{constructor(e){super(e),this.fetchSystemInfo=Object(d.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.get("/system/");case 2:return t=e.sent,e.abrupt("return",Promise.resolve(t.data));case 4:case"end":return e.stop()}}),e)}))),this.state={}}componentDidMount(){var e=this;return Object(d.a)(m.a.mark((function t(){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchSystemInfo();case 2:(a=t.sent)&&e.setState({systemInfo:a});case 4:case"end":return t.stop()}}),t)})))()}render(){return r.a.createElement(De.Provider,{value:this.state},this.props.children)}}const De=r.a.createContext({});function Ne(e,t=2){if(0===e)return"0 Bytes";const a=t<0?0:t,n=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,n)).toFixed(a))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][n]}function Le(){const e=Object(n.useContext)(De).systemInfo;return void 0===e?r.a.createElement(h.a,null,r.a.createElement("p",null,"No Info Avaliable currently")):r.a.createElement("div",null,r.a.createElement("span",null,"Used Sapce: ",Ne(e.disk.used),"/",Ne(e.disk.total)),r.a.createElement(ae.a,{percent:(e.disk.used/e.disk.total*100).toFixed(2),size:"tiny",color:"green"}))}var Te=a(487),Re=a(220),Ue=a(922),Be=a(923),Pe=a(924),ze=a(925),Ae=a(926),_e=a(927),We=a(928),Ye=a(929),qe=a(930),He=a(931),Je=a(473),Ge=a.n(Je),Ke=a(950),Ve=a(949);function Xe(){const e=Object(n.useContext)(T),t=e.nas,a=(e.update,e.selectedDocument,e.selectDocument),c=Object(n.useState)(!1),l=Object(o.a)(c,2),s=(l[0],l[1],Object(n.useState)()),i=Object(o.a)(s,2),u=i[0],h=i[1];return r.a.createElement("div",{style:{width:"100%",margin:"20px"}},r.a.createElement(p.a,null,r.a.createElement(p.a.Row,null,t.currentFolder&&t.currentFolder.documents.map((e,n)=>r.a.createElement(p.a.Column,{computer:4,mobile:8,style:{padding:10}},r.a.createElement("div",{onMouseOver:()=>h(n),onMouseOut:()=>h(void 0),style:{cursor:"grab"}},r.a.createElement(Ke.a,{style:{height:130},raised:u===n},r.a.createElement(Ke.a.Content,null,r.a.createElement(Ve.a,{icon:!0,style:{padding:10},size:"small"},r.a.createElement(v.a,{onClick:Object(d.a)(m.a.mark((function n(){var r;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.getDocument(e.id);case 2:r=n.sent,a(r);case 4:case"end":return n.stop()}}),n)}))),name:"file pdf",color:"red"}),e.name,r.a.createElement(O.a,{onClick:Object(d.a)(m.a.mark((function a(){return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.deleteDocument(e.id);case 2:case"end":return a.stop()}}),a)})))},r.a.createElement(Ge.a,null))))))))),r.a.createElement(p.a.Row,null,r.a.createElement("h3",null,"Files"))))}const Ze=a(725).Player,$e=[".jpg",".png",".bmp",".JPG",".gif"],Qe=[".mov",".mp4",".avi",".m4v",".MOV",".MP4"];function et(){const e=Object(n.useContext)(T),t=e.nas,a=(e.isLoading,e.update),c=e.selectedDocument,l=e.selectDocument,s=r.a.useState(null),i=Object(o.a)(s,2),u=i[0],h=i[1],f=Object(n.useState)(),E=Object(o.a)(f,2),b=E[0],x=E[1],g=Object(n.useState)(),w=Object(o.a)(g,2),k=w[0],y=w[1],F=Object(n.useState)(!1),S=Object(o.a)(F,2),I=S[0],M=S[1],D=Object(n.useState)(!1),N=Object(o.a)(D,2),L=N[0],R=N[1],B=Object(n.useState)(void 0),z=Object(o.a)(B,2),A=z[0],_=z[1],W=Object(n.useState)(void 0),Y=Object(o.a)(W,2),q=Y[0],H=Y[1],J=r.a.useState(null),K=Object(o.a)(J,2),X=K[0],$=K[1],Q=()=>{$(null)};function ee(e){return $e.includes(V.a.extname(e))}function ae(e){return Qe.includes(V.a.extname(e))}return r.a.createElement("div",{id:"file-list"},r.a.createElement(p.a,null,r.a.createElement(Xe,null),r.a.createElement(p.a.Row,{style:{overflow:"auto",overflowX:"hidden"}},t.currentFolder&&t.currentFolder.files.length>0&&r.a.createElement(Ue.a,null,r.a.createElement(Be.a,null,r.a.createElement(Pe.a,null,r.a.createElement(ze.a,null,r.a.createElement(Ae.a,null,"Name"),r.a.createElement(Ae.a,null,"Last Modify"),r.a.createElement(Ae.a,null,"Size"),r.a.createElement(Ae.a,null,"Actions"))),r.a.createElement(_e.a,null,t.currentFolder.files.map((e,t)=>{return r.a.createElement(ze.a,{hover:!0},r.a.createElement(Ae.a,{style:{cursor:"grab"},onMouseOver:t=>{h(t.currentTarget),x(e)},onMouseLeave:()=>{h(null),x(void 0)},onClick:()=>{if(ee(e.file))_(e.file);else if(ae(e.file)){var t;H({src:null!==(t=e.transcode_filepath)&&void 0!==t?t:e.file,cover:e.cover})}}},r.a.createElement(v.a,{name:(a=e.file,ee(a)?"images":ae(a)?"file video":"file"),size:"large",color:"teal"}),V.a.basename(e.filename)),r.a.createElement(Ae.a,null,U()(e.modified_at).format("MMM DD, YYYY")),r.a.createElement(Ae.a,null,Ne(e.size)),r.a.createElement(Ae.a,null,r.a.createElement(O.a,{onClick:t=>{y(e),$(t.currentTarget)}},r.a.createElement(P.a,null))));var a}))))),r.a.createElement(j.a,{id:"simple-menu",anchorEl:X,keepMounted:!0,open:Boolean(X),onClose:Q},r.a.createElement(C.a,{onClick:()=>{if(k){const e=document.createElement("a");e.href="".concat(k.file),document.body.appendChild(e),e.click(),document.body.removeChild(e)}Q()}},"Download"),r.a.createElement(C.a,{onClick:Object(d.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k&&(Q(),M(!0));case 1:case"end":return e.stop()}}),e)})))},"Rename"),r.a.createElement(C.a,{onClick:Object(d.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!k){e.next=5;break}return e.next=3,t.deleteFile(k.id);case 3:Q(),a();case 5:case"end":return e.stop()}}),e)})))},"Delete"),r.a.createElement(C.a,{onClick:Object(d.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k&&(Q(),R(!0));case 1:case"end":return e.stop()}}),e)})))},"Move To")),c&&r.a.createElement(Ce,{open:void 0!==c,setOpen:e=>{!e&&l(void 0)},document:c}),r.a.createElement(te.a,{open:void 0!==A,onClose:()=>_(void 0)},r.a.createElement(Te.a,{src:A,fluid:!0})),r.a.createElement(te.a,{open:void 0!==q,onClose:()=>H(void 0)},r.a.createElement(Ze,{poster:q&&q.cover},r.a.createElement("source",{src:q&&q.src}))),k&&r.a.createElement(G,{type:"file",open:L,selectedFile:k,onClose:()=>{R(!1)}}),k&&r.a.createElement(Z,{type:"file",open:I,selectedFile:k,onClose:()=>{M(!1)}})),r.a.createElement(We.a,{open:Boolean(u),anchorEl:u},b&&r.a.createElement(Ye.a,{style:{padding:10}},ee(b.filename)&&r.a.createElement(qe.a,{style:{height:140,width:140},image:b.file}),ae(b.filename)&&(b.cover?r.a.createElement(He.a,null,r.a.createElement(qe.a,{style:{height:140,width:140},image:b.cover}),r.a.createElement(Re.a,null," ",Ne(b.size))):r.a.createElement("div",null,b.filename," - ",Ne(b.size))))))}var tt=a(477),at=a.n(tt),nt=a(932),rt=a(933);function ct(){const e=Object(n.useContext)(T),t=e.uploadFiles,a=e.uploadInfo,c=Object(n.useContext)(De).systemInfo;return r.a.createElement(E.a,null,c&&r.a.createElement(p.a,{style:{height:"100%",marginTop:10}},r.a.createElement(p.a.Row,{style:{height:40}},r.a.createElement(p.a.Column,{width:8},r.a.createElement("div",null,"CPU"),r.a.createElement(nt.a,{color:"secondary",variant:"determinate",value:c.cpu})),r.a.createElement(p.a.Column,{width:8},r.a.createElement("div",null,"Memory"),r.a.createElement(nt.a,{title:"Memory",color:"secondary",variant:"determinate",value:c.memory.used/c.memory.total*100})))),t?t.map((e,t)=>r.a.createElement(b.a,null,r.a.createElement(rt.a,null,r.a.createElement(v.a,{name:"file"})),r.a.createElement(x.a,{primary:e.name,secondary:r.a.createElement(nt.a,{variant:a&&a.currentIndex===t?"determinate":"indeterminate",value:a&&a.currentIndex===t?a.progress:void 0})}))):r.a.createElement(p.a,{style:{height:"100%"},centered:!0,verticalAlign:"middle"},r.a.createElement("div",{style:{marginTop:"10px",marginBottom:"auto"}},"No Pending Uploads")))}var lt=a(486),ot=a(934),st=a(955),it=a(32),ut=a(937),mt=a(938),dt=a(939),pt=a(944),ht=a(166),ft=a(956),vt=a(935),Et=a(490),bt=a(936),xt=a(295),gt=a(476),wt=a.n(gt);const kt=Object(ot.a)(e=>Object(st.a)({popper:{marginTop:10,marginRight:15,width:"40ch",maxHeight:400,overflow:"auto"},search:{position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(it.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(it.b)(e.palette.common.white,.25)},marginLeft:0,width:"100%",[e.breakpoints.up("sm")]:{marginLeft:e.spacing(1),width:"auto"}},searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:{padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%",[e.breakpoints.up("sm")]:{width:"12ch","&:focus":{width:"20ch"}}}}));function Ot(){const e=kt(),t=Object(n.useContext)(T),a=t.nas,c=t.update,l=Object(n.useState)(!1),s=Object(o.a)(l,2),i=s[0],u=s[1],p=r.a.useState(null),h=Object(o.a)(p,2),f=h[0],v=h[1],E=Object(n.useState)(""),b=Object(o.a)(E,2),x=b[0],g=b[1],w=()=>{v(null)};return r.a.createElement("div",{className:e.search},r.a.createElement("div",{className:e.searchIcon},i?r.a.createElement(vt.a,{size:20,color:"inherit"}):r.a.createElement(wt.a,null)),r.a.createElement(Et.a,{placeholder:"Search\u2026",classes:{root:e.inputRoot,input:e.inputInput},inputProps:{"aria-label":"search"},onClick:e=>v(e.currentTarget),onChange:function(){var e=Object(d.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target.value,g(a);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onKeyDown:function(){var e=Object(d.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Enter"!==t.key){e.next=6;break}return u(!0),e.next=4,a.search(x);case 4:c(),u(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),r.a.createElement(We.a,{open:Boolean(f),anchorEl:f},r.a.createElement(bt.a,{onClickAway:w},r.a.createElement(xt.a,{className:e.popper},0===a.searchedFiles.length&&r.a.createElement(C.a,null,"No File. Press Enter to search"),a.searchedFiles.map(e=>r.a.createElement(C.a,{key:e.id,onClick:()=>{window.location.href="#/home/".concat(e.parent),w()}},V.a.basename(e.filename)))))))}const yt=Object(lt.a)({palette:{primary:{main:"#fafafa"}}}),jt=Object(ot.a)(e=>Object(st.a)({root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1,display:"none",[e.breakpoints.up("sm")]:{display:"block"}},search:{position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(it.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(it.b)(e.palette.common.white,.25)},marginLeft:0,width:"100%",[e.breakpoints.up("sm")]:{marginLeft:e.spacing(1),width:"auto"}},searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:{padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%",[e.breakpoints.up("sm")]:{width:"12ch","&:focus":{width:"20ch"}}}}));function Ct(){const e=Object(n.useContext)(T),t=(e.nas,e.isLoading),a=(e.update,Object(n.useState)(!1)),c=Object(o.a)(a,2),l=c[0],s=c[1],i=jt();return r.a.createElement(ut.a,{theme:yt},r.a.createElement("div",{id:"home",style:{height:"100%",overflow:"hidden"}},r.a.createElement(mt.a,{position:"static"},r.a.createElement(dt.a,null,r.a.createElement(pt.a,{mdUp:!0},r.a.createElement(O.a,{className:i.menuButton,color:"inherit",onClick:()=>{s(!0)}},r.a.createElement(at.a,null))),r.a.createElement(ht.a,{className:i.title,variant:"h6",noWrap:!0},"Django Nas"),r.a.createElement(Ot,null))),r.a.createElement(ft.a,{open:l,onClose:()=>s(!1)},r.a.createElement("div",{style:{width:300,height:"100%"}},r.a.createElement($,null))),r.a.createElement(Q.a,{loading:t,style:{height:"100%",margin:0}},r.a.createElement(p.a,{style:{height:"100%",overflow:"hidden",position:"relative"}},r.a.createElement(p.a.Row,{style:{height:"100%",paddingTop:0,paddingBottom:0}},r.a.createElement(pt.a,{smDown:!0,implementation:"js"},r.a.createElement(p.a.Column,{computer:3,style:{height:"100%",backgroundColor:"#fcfcfc"}},r.a.createElement(Fe.b,{id:"folder"},r.a.createElement(p.a.Row,{style:{height:"92%"}},r.a.createElement($,null)),r.a.createElement(p.a.Row,null,r.a.createElement(Le,null))))),r.a.createElement(p.a.Column,{computer:10,mobile:16,tablet:16,style:{height:"100%"}},r.a.createElement(Fe.b,{id:"files"},r.a.createElement(et,null))),r.a.createElement(pt.a,{smDown:!0,implementation:"js"},r.a.createElement(p.a.Column,{computer:3,style:{height:"100%",backgroundColor:"#fcfcfc"}},r.a.createElement(ct,null)))))),r.a.createElement(Ie,null)))}var Ft=a(125);function St(e){const t=e.title,a=e.used,n=e.total,c=e.color,l=e.color2;let o=[{name:"Used",value:a},{name:"Available",value:n-a}];return r.a.createElement(Q.a,null,r.a.createElement(Ft.d,{minHeight:300,height:"100%",width:"100%",minWidth:200},r.a.createElement(Ft.c,null,r.a.createElement(Ft.b,{data:o,dataKey:"value",label:!0,fill:c,isAnimationActive:!1},r.a.createElement(Ft.a,{fill:c}),r.a.createElement(Ft.a,{fill:l})),r.a.createElement(Ft.e,null))),r.a.createElement("span",null,t))}function It(){const e=Object(n.useContext)(De).systemInfo;return void 0===e?r.a.createElement("div",null,"Infomation Not Available"):r.a.createElement("div",{id:"home",style:{width:"100%",color:"black"}},r.a.createElement(de.a,null,r.a.createElement("h1",null,"System Info"),r.a.createElement(p.a,{columns:2},r.a.createElement(p.a.Column,null,r.a.createElement(St,{used:Math.round(e.disk.used/1024/1024),total:Math.round(e.disk.total/1024/1024),title:"Disk(MB)",color:"#0088FE",color2:"orange"})),r.a.createElement(p.a.Column,null,r.a.createElement(St,{used:Math.round(e.memory.used/1024/1024),total:Math.round(e.memory.total/1024/1024),title:"Memory(MB)",color:"#0088FE",color2:"orange"})),r.a.createElement(p.a.Column,null,r.a.createElement(St,{used:e.cpu,total:100,title:"CPU Usage(Percentage)",color:"#0088FE",color2:"orange"})),r.a.createElement(p.a.Column,null,r.a.createElement(Q.a,{style:{height:"100%"}},r.a.createElement("h4",null,"Temperature"),r.a.createElement("h1",null,e.temperature?e.temperature.toFixed(1):"None"))),r.a.createElement(p.a.Column,null,r.a.createElement(Q.a,{style:{height:"100%"}},r.a.createElement("h4",null,"Humidity"),r.a.createElement("h1",null,e.humidity?e.humidity.toFixed(1):"None"))),r.a.createElement(p.a.Column,null,r.a.createElement(Q.a,{style:{height:"100%"}},r.a.createElement("h4",null,"Pressure"),r.a.createElement("h1",null,e.pressure?e.pressure.toFixed(2):"None"))))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Mt=a(485);l.a.render(r.a.createElement(Mt.I18nProvider,{catalogs:{}},r.a.createElement((function(){const e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=(t[0],t[1],Object(n.useState)(!1)),c=Object(o.a)(a,2),l=(c[0],c[1]);return r.a.createElement(Me,null,r.a.createElement(s.a,null,r.a.createElement("div",{style:{height:"100%"}},r.a.createElement(i.b,{exact:!0,path:"/",component:()=>r.a.createElement(i.a,{to:"/home"})}),r.a.createElement(i.b,{exact:!0,path:"/home/:id?",component:e=>(l(!0),r.a.createElement(N,e,r.a.createElement(Ct,null)))}),r.a.createElement(i.b,{exact:!0,path:"/info",component:e=>(l(!0),r.a.createElement(It,null))}))))}),null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()})}},[[536,1,2]]]);
//# sourceMappingURL=main.bf4bb50d.chunk.js.map